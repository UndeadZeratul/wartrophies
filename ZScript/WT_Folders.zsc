extend class WT_MainHandler
{
	private transient CVar LiteFolderView;
	private transient Dictionary FolderBindings;

	static const string DictionaryDefs[] =
	{
		// -------------------- BULLET-EYE --------------------

		"frostsnapvalnos", "Frost Snap",
		"frostsnapvalnoss2", "Frost Snap",
		"frostsnapvalnoss3", "Frost Snap",
		"frostsnapvalnoss4", "Frost Snap",
		"spitfireweapon", "Spitfire",
		"spitfireweapons2", "Spitfire",
		"spitfireweapons3", "Spitfire",
		"spreadshotweapon", "Spread Shot",
		"spreadshotweapons2", "Spread Shot",
		"spreadshotweapons3", "Spread Shot",
		"busterweapon", "Buster",
		"busterweapons2", "Buster",
		"busterweapons3", "Buster",
		"blazestreamweapon", "Blaze Stream",
		"blazestreamweapons2", "Blaze Stream",
		"blazestreamweapons3", "Blaze Stream",
		"chasermissileweapon", "Chaser Missile",
		"chasermissileweapons2", "Chaser Missile",
		"chasermissileweapons3", "Chaser Missile",
		"crushblastweapon", "Crush Blast",
		"crushblastweapons2", "Crush Blast",
		"crushblastweapons3", "Crush Blast",
		"scraplauncherweapon", "Scrap Launcher",
		"scraplauncherweapons2", "Scrap Launcher",
		"scraplauncherweapons3", "Scrap Launcher",
		"quickstrikeweapon", "Quick Strike",
		"quickstrikeweapons2", "Quick Strike",
		"quickstrikeweapons3", "Quick Strike",
		"huntinglaserweapon", "Hunting Laser",
		"huntinglaserweapons2", "Hunting Laser",
		"huntinglaserweapons3", "Hunting Laser",
		"rapidvulcanweapon", "Assassin Vulcan",
		"rapidvulcanweapons2", "Assassin Vulcan",
		"rapidvulcanweapons3", "Assassin Vulcan",
		"stormgrenadeweapon", "Storm Mine",
		"stormgrenadeweapons2", "Storm Mine",
		"stormgrenadeweapons3", "Storm Mine",
		"volleyshotweapon", "Volley Shot",
		"volleyshotweapons2", "Volley Shot",
		"volleyshotweapons3", "Volley Shot",
		"viperwaveweapon", "Viper Wave",
		"viperwaveweapons2", "Viper Wave",
		"viperwaveweapons3", "Viper Wave",
		"repeaterweapon", "Repeaters",
		"repeaterweapons2", "Repeaters",
		"repeaterweapons3", "Repeaters",
		"triplewyvernweapon", "Triple Wyvern",
		"triplewyvernweapons2", "Triple Wyvern",
		"triplewyvernweapons3", "Triple Wyvern",
		"wingedreaverweapon", "Winged Reaver",
		"wingedreaverweapons2", "Winged Reaver",
		"wingedreaverweapons3", "Winged Reaver",
		"shotwaveweapon", "Shotwave",
		"shotwaveweapons2", "Shotwave",
		"shotwaveweapons3", "Shotwave",
		"grindhalberdweapon", "Grind Halberd",
		"grindhalberdweapons2", "Grind Halberd",
		"grindhalberdweapons3", "Grind Halberd",
		"vampiricgauntletsweapon", "Vampiric Gauntlets",
		"vampiricgauntletsweapons2", "Vampiric Gauntlets",
		"vampiricgauntletsweapons3", "Vampiric Gauntlets",
		"snipercannonweapon", "Sniper Cannon",
		"snipercannonweapons2", "Sniper Cannon",
		"snipercannonweapons3", "Sniper Cannon",
		"metalmonstrosityweapon", "Metal Monstrosity",
		"metalmonstrosityweapons2", "Metal Monstrosity",
		"metalmonstrosityweapons3", "Metal Monstrosity",

		// -------------------- FINAL DOOMER --------------------

		// Fist
		"fddoom2fist", "Melee",
		"fdplutfist", "Melee",
		"fdtntfist", "Melee",
		"fdaliensfist", "Melee",
		"fdjpcpfist", "Melee",
		"fdbtsxfist", "Melee",
		"fdhellboundfist", "Melee",
		"fdalienvendettafist", "Melee",
		"fdwhitemarefist", "Melee",

		// Chainsaw
		"fddoom2chainsaw", "Chainsaw",
		"fdplutchainsaw", "Chainsaw",
		"fdtntchainsaw", "Utility",
		"fdalienschainsaw", "Utility",
		"fdjpcpchainsaw", "Chainsaw",
		"fdbtsxchainsaw", "Chainsaw",
		"fdhellboundchainsaw", "Chainsaw",
		"fdalienvendettachainsaw", "Chainsaw",
		"fdwhitemarechainsaw", "Utility",

		// Pistol
		"fddoom2pistol", "Handgun",
		"fdplutpistol", "Handgun",
		"fdtntpistol", "Handgun",
		"fdalienspistol", "Handgun",
		"fdjpcppistol", "Handgun",
		"fdbtsxpistol", "Handgun",
		"fdhellboundpistol", "Handgun",
		"fdalienvendettapistol", "Handgun",
		"fdwhitemarepistol", "Handgun",

		// Shotgun
		"fddoom2shotgun", "Shotgun",
		"fdplutshotgun", "Shotgun",
		"fdtntshotgun", "Shotgun",
		"fdaliensshotgun", "Shotgun",
		"fdjpcpshotgun", "Shotgun",
		"fdbtsxshotgun", "Shotgun",
		"fdhellboundshotgun", "Shotgun",
		"fdalienvendettashotgun", "Shotgun",
		"fdwhitemareshotgun", "Shotgun",

		// Super Shotgun
		"fddoom2supershotgun", "Heavy Shotgun",
		"fdplutsupershotgun", "Heavy Shotgun",
		"fdtntsupershotgun", "Heavy Shotgun",
		"fdalienssupershotgun", "Heavy Shotgun",
		"fdjpcpsupershotgun", "Heavy Shotgun",
		"fdbtsxsupershotgun", "Heavy Shotgun",
		"fdhellboundsupershotgun", "Heavy Shotgun",
		"fdalienvendettasupershotgun", "Heavy Shotgun",
		"fdwhitemaresupershotgun", "Heavy Shotgun",

		// Chaingun
		"fddoom2chaingun", "Machine Gun",
		"fdplutchaingun", "Machine Gun",
		"fdtntchaingun", "Machine Gun",
		"fdalienschaingun", "Machine Gun",
		"fdjpcpchaingun", "Machine Gun",
		"fdbtsxchaingun", "Machine Gun",
		"fdhellboundchaingun", "Machine Gun",
		"fdalienvendettachaingun", "Machine Gun",
		"fdwhitemarechaingun", "Machine Gun",

		// Rocket Launcher
		"fddoom2rocketlauncher", "Launcher",
		"fdplutrocketlauncher", "Launcher",
		"fdtntrocketlauncher", "Launcher",
		"fdaliensrocketlauncher", "Launcher",
		"fdjpcprocketlauncher", "Launcher",
		"fdbtsxrocketlauncher", "Launcher",
		"fdhellboundrocketlauncher", "Launcher",
		"fdalienvendettarocketlauncher", "Launcher",
		"fdwhitemarerocketlauncher", "Launcher",

		// Plasma Rifle
		"fddoom2plasmarifle", "Energy Rifle",
		"fdplutplasmarifle", "Energy Rifle",
		"fdtntplasmarifle", "Energy Rifle",
		"fdaliensplasmarifle", "Energy Rifle",
		"fdjpcpplasmarifle", "Energy Rifle",
		"fdbtsxplasmarifle", "Energy Rifle",
		"fdhellboundplasmarifle", "Energy Rifle",
		"fdalienvendettaplasmarifle", "Energy Rifle",
		"fdwhitemareplasmarifle", "Energy Rifle",

		// BFG9000
		"fddoom2bfg9000", "BFG",
		"fdplutbfg9000", "BFG",
		"fdtntbfg9000", "BFG",
		"fdaliensbfg9000", "BFG",
		"fdjpcpbfg9000", "BFG",
		"fdbtsxbfg9000", "BFG",
		"fdhellboundbfg9000", "BFG",
		"fdalienvendettabfg9000", "BFG",
		"fdwhitemarebfg9000", "BFG",

		// -------------------- DRLA, in no particular order --------------------

		"RLFist", "Melee",
		"RLAssaultRifleBattleRifle", "Rifle",
		"RLAssaultRifleChaingun", "Chaingun",
		"RLAssaultRifleLaserRifle", "Plasma Rifle",
		"RLAssaultRifleMinigun", "Chaingun",
		"RLAssaultRifleNuclearPlasmaRifle", "Plasma Rifle",
		"RLAssaultRiflePlasmaRifle", "Plasma Rifle",
		"RLAssaultRifleUzi", "Pistol",
		"RLBurstCannonBattleRifle", "Rifle",
		"RLBurstCannonChaingun", "Chaingun",
		"RLBurstCannonLaserRifle", "Plasma Rifle",
		"RLBurstCannonMinigun", "Chaingun",
		"RLBurstCannonNuclearPlasmaRifle", "Plasma Rifle",
		"RLBurstCannonPlasmaRifle", "Plasma Rifle",
		"RLBurstCannonUzi", "Pistol",
		"RLAutoDoubleShotgun", "Super Shotgun",
		"RLAutoshotgun", "Shotgun",
		"RLBulletstormChaingun", "Chaingun",
		"RLBulletstormRifle", "Rifle",
		"RLDoubleChainsaw", "Melee",
		"RLFocusedDoubleShotgun", "Super Shotgun",
		"RLGrenadeLauncher", "Rocket Launcher",
		"RLHyperBlaster", "Plasma Rifle",
		"RLLaserShotgun", "Shotgun",
		"RLMiniMissilePistol", "Pistol",
		"RLNuclearPlasmaRifleMkII", "Plasma Rifle",
		"RLNuclearPlasmaShotgun", "Super Shotgun",
		"RLNuclearVBFG9000", "BFG",
		"RLPlasmaRifleMkII", "Plasma Rifle",
		"RLPlasmaShotgunMkII", "Super Shotgun",
		"RLTacticalRocketLauncher", "Rocket Launcher",
		"RLVBFG9000", "BFG",
		"RLNanoShrapnelAssaultShotgun", "Shotgun",
		"RLNanoShrapnelCombatShotgun", "Shotgun",
		"RLNanoShrapnelDoubleShotgun", "Super Shotgun",
		"RLNanoShrapnelPlasmaShotgun", "Super Shotgun",
		"RLNanoShrapnelShotgun", "Shotgun",
		"RLNanoShrapnelSuperShotgun", "Super Shotgun",
		"RLOverchargedBlaster", "Pistol",
		"RLPlasmaCombatPistol", "Pistol",
		"RLPlasmaHandcannon", "Pistol",
		"RLPlasmaMarksmanPistol", "Pistol",
		"RLPlasmaPistol", "Pistol",
		"RLPlasmaUzi", "Pistol",
		"RLSuperchargedNuclearPlasmaPistol", "Pistol",
		"RLStormBlaster", "Pistol",
		"RLStormCombatPistol", "Pistol",
		"RLStormHandcannon", "Pistol",
		"RLStormMarksmanPistol", "Pistol",
		"RLStormNuclearPlasmaPistol", "Pistol",
		"RLStormPistol", "Pistol",
		"RLStormUzi", "Pistol",
		"RLHeavyAssaultShotgun", "Shotgun",
		"RLHeavyCombatShotgun", "Shotgun",
		"RLHeavyDoubleShotgun", "Super Shotgun",
		"RLHeavyHuntingShotgun", "Super Shotgun",
		"RLHeavyPlasmaShotgun", "Super Shotgun",
		"RLHeavyShotgun", "Shotgun",
		"RLHeavySuperShotgun", "Super Shotgun",
		"RLHighPowerBattleRifle", "Rifle",
		"RLHighPowerBFG9000", "BFG",
		"RLHighPowerBlaster", "Pistol",
		"RLHighPowerChaingun", "Chaingun",
		"RLHighPowerCombatPistol", "Pistol",
		"RLHighPowerHandcannon", "Pistol",
		"RLHighPowerHuntingRevolver", "Pistol",
		"RLHighPowerLaserRifle", "Plasma Rifle",
		"RLHighPowerMarksmanPistol", "Pistol",
		"RLHighPowerMarksmanRifle", "Rifle",
		"RLHighPowerMinigun", "Chaingun",
		"RLHighPowerNuclearBFG9000", "BFG",
		"RLHighPowerNuclearPlasmaPistol", "Pistol",
		"RLHighPowerNuclearPlasmaRifle", "Plasma Rifle",
		"RLHighPowerPistol", "Pistol",
		"RLHighPowerPlasmaRifle", "Plasma Rifle",
		"RLHighPowerPP7", "Pistol",
		"RLHighPowerRCP90", "Chaingun",
		"RLHighPowerThompson", "Chaingun",
		"RLHighPowerTristarBlaster", "BFG",
		"RLHighPowerUzi", "Pistol",
		"RLHighPowerVanguardRifle", "Rifle",
		"RLElephantGun", "Shotgun",
		"RLFlamethrower", "Rocket Launcher",
		"RLGatlingGun", "Chaingun",
		"RLMicroLauncher", "Rocket Launcher",
		"RLNuclearPlasmaRevolver", "Pistol",
		"RLShrapnelCannon", "Rocket Launcher",
		"RLShredderPistol", "Pistol",
		"RLShredderShotgun", "Super Shotgun",
		"RLSilencedPistol", "Pistol",
		"RLSniperRifle", "Rifle",
		"RLSpeedloaderPistol", "Pistol",
		"RLStealthRifle", "Rifle",
		"RLTacticalShotgun", "Shotgun",
		"RLPiercingChainsaw", "Melee",
		"RLPlasmaticShrapnelAssaultShotgun", "Shotgun",
		"RLPlasmaticShrapnelCombatShotgun", "Shotgun",
		"RLPlasmaticShrapnelDoubleShotgun", "Super Shotgun",
		"RLPlasmaticShrapnelHuntingShotgun", "Super Shotgun",
		"RLPlasmaticShrapnelPlasmaShotgun", "Super Shotgun",
		"RLPlasmaticShrapnelShotgun", "Shotgun",
		"RLPlasmaticShrapnelSuperShotgun", "Super Shotgun",
		"RLDeathsGaze", "Pistol",
		"RLHellsReign", "Rocket Launcher",
		"RLSoulstormRifle", "Rifle",
		"RLUnmaker", "Plasma Rifle",
		"RLAssaultShotgun", "Shotgun",
		"RLBlaster", "Pistol",
		"RLCombatPistol", "Pistol",
		"RLCombatTranslocator", "Utility",
		"RLHandcannon", "Pistol",
		"RLLaserRifle", "Plasma Rifle",
		"RLMarksmanPistol", "Pistol",
		"RLMinigun", "Chaingun",
		"RLMissileLauncher", "Rocket Launcher",
		"RLNapalmLauncher", "Rocket Launcher",
		"RLNuclearBFG9000", "BFG",
		"RLNuclearPlasmaPistol", "Pistol",
		"RLNuclearPlasmaRifle", "Plasma Rifle",
		"RLPlasmaShotgun", "Super Shotgun",
		"RLSuperShotgun", "Super Shotgun",
		"RLTristarBlaster", "BFG",
		"RLUzi", "Pistol",
		"RLBaronBlaster", "Pistol",
		"RLBFGInfinity", "BFG",
		"RLDragonslayer", "Melee",
		"RLDuke2Rifle", "Plasma Rifle",
		"RLHurricaneCannon", "Pistol",
		"RLJudgeOfTheDead", "Shotgun",
		"RLLonghorn", "Pistol",
		"RLNeuralStunner", "Pistol",
		"RLRealityDistortionArray", "BFG",
		"RLDemolitionAmmoBattleRifle", "Rifle",
		"RLDemolitionAmmoChaingun", "Chaingun",
		"RLDemolitionAmmoCombatPistol", "Pistol",
		"RLDemolitionAmmoHandcannon", "Pistol",
		"RLDemolitionAmmoMarksmanPistol", "Pistol",
		"RLDemolitionAmmoMinigun", "Chaingun",
		"RLDemolitionAmmoPistol", "Pistol",
		"RLDemolitionAmmoUzi", "Pistol",
		"RLEnergysaw", "Melee",
		"RLAntiMaterielRifle", "Rifle",
		"RLAutocannon", "Rocket Launcher",
		"RLBiggestFuckingGun", "BFG",
		"RLClusterBombLauncher", "Rocket Launcher",
		"RLConquerorShotgun", "Shotgun",
		"RLGaussRifle", "Rifle",
		"RLMegatonShotgun", "Super Shotgun",
		"RLMotherInLaw", "Rocket Launcher",
		"RLNuclearBiggestFuckingGun", "BFG",
		"RLPlasmaRefractor", "Plasma Rifle",
		"RLRipper", "Melee",
		"RLSuperMachinegun", "Rifle",
		"RLVoltgun", "Plasma Rifle",
		"RLZeusCannon", "BFG",
		"RLNanomanufactureAmmoBattleRifle", "Rifle",
		"RLNanoManufactureAmmoBlaster", "Pistol",
		"RLNanoManufactureAmmoChaingun", "Chaingun",
		"RLNanoManufactureAmmoCombatPistol", "Pistol",
		"RLNanoManufactureAmmoHandCannon", "Pistol",
		"RLNanoManufactureAmmoLaserRifle", "Plasma Rifle",
		"RLNanomanufactureAmmoMarksmanPistol", "Pistol",
		"RLNanoManufactureAmmoMinigun", "Chaingun",
		"RLNanoManufactureAmmoMissileLauncher", "Rocket Launcher",
		"RLNanoManufactureAmmoNapalmLauncher", "Rocket Launcher",
		"RLNanoManufactureAmmoPistol", "Pistol",
		"RLNanoManufactureAmmoPlasmaRifle", "Plasma Rifle",
		"RLNanoManufactureAmmoRocketLauncher", "Rocket Launcher",
		"RLNanoManufactureAmmoTristarBlaster", "BFG",
		"RLNanoManufactureAmmoUzi", "Pistol",
		"RLHeavyPulseBlaster", "Pistol",
		"RLIncinerationDeviceLauncher", "Rocket Launcher",
		"RLInfusionLauncher", "Rocket Launcher",
		"RLLaserMinigun", "Chaingun",
		"RLLaserPulseLauncher", "Rocket Launcher",
		"RLPlasmaCannon", "BFG",
		"RLBattleRifle", "Rifle",
		"RLBFG9000", "BFG",
		"RLChaingun", "Chaingun",
		"RLChainsaw", "Melee",
		"RLCombatShotgun", "Shotgun",
		"RLDoubleShotgun", "Super Shotgun",
		"RLPistol", "Pistol",
		"RLPlasmaRifle", "Plasma Rifle",
		"RLRocketLauncher", "Rocket Launcher",
		"RLShotgun", "Shotgun",
		"RLHuntingRevolver", "Pistol",
		"RLHuntingShotgun", "Super Shotgun",
		"RLMarksmanRifle", "Rifle",
		"RLPP7", "Pistol",
		"RLRCP90", "Chaingun",
		"RLThompson", "Chaingun",
		"RLVanguardRifle", "Rifle",
		"RLAntiFreakJackal", "Pistol",
		"RLBFG10K", "BFG",
		"RLChameleonRifle", "Rifle",
		"RLDirectHit", "Rocket Launcher",
		"RLFragShotgun", "Shotgun",
		"RLGrammatonClericBeretta", "Pistol",
		"RLHellsingARMSCasull", "Pistol",
		"RLJackhammer", "Shotgun",
		"RLLightweaver", "Plasma Rifle",
		"RLLuciferCannon", "Plasma Rifle",
		"RLMarathonAssaultRifle", "Rifle",
		"RLMarathonShotguns", "Super Shotgun",
		"RLMIRVLauncher", "Rocket Launcher",
		"RLMysteriousMagnum", "Pistol",
		"RLNanomachicArmamentGenerator", "Rifle",
		"RLNuclearOnslaught", "Plasma Rifle",
		"RLNullPointer", "Utility",
		"RLParticleBeamCannon", "BFG",
		"RLPlasmaRedirectionCannon", "Plasma Rifle",
		"RLQuadShotgun", "Super Shotgun",
		"RLRailgun", "Plasma Rifle",
		"RLRevenantsLauncher", "Rocket Launcher",
		"RLSteelBeast", "Shotgun",
		"RLSussGun", "Plasma Rifle",
		"RLTantrumCannon", "BFG",
		"RLTriadCannon", "Rocket Launcher",
		"RLTrigun", "Pistol",
		"RLUnknownHerald", "Pistol",
		"RLWidowmakerSMG", "Rifle"
	};

	private void FolderInit()
	{
		FolderBindings = Dictionary.Create();

		for (int i = 0; i < DictionaryDefs.Size(); i += 2)
		{
			FolderBindings.Insert(DictionaryDefs[i], DictionaryDefs[i + 1]);
		}
	}

	private ui void GetWeaponsInFolder(string folder, out Array<class<Weapon> > arr)
	{
		arr.Clear();

		let it = DictionaryIterator.Create(FolderBindings);
		while (it.Next())
		{
			if (it.Value() != folder) continue;

			class<Weapon> wpn;
			wpn = it.Key();
			if (wpn && AvailableWeapons.Find(wpn) != AvailableWeapons.Size())
			{
				arr.Push(wpn);
			}
		}
	}
}